#pragma once

#include <format>

namespace std {

    #define __FORMAT_NARGS_IMPL(_1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24, _25, _26, _27, _28, _29, _30, _31, _32, N, ...) N
    
    #if _WIN32
        #define __FORMAT_ID(x) x
        #define __FORMAT_NARGS_MSVC_HELP(...) __FORMAT_ID(__FORMAT_NARGS_IMPL(__VA_ARGS__))
        #define __FORMAT_NARGS(...) __FORMAT_NARGS_MSVC_HELP(__VA_ARGS__, 32, 31, 30, 29, 28, 27, 26, 25, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1)
    #else
        #define __FORMAT_NARGS(...) __FORMAT_NARGS_IMPL(__VA_ARGS__, 32, 31, 30, 29, 28, 27, 26, 25, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1)
    #endif

    #define __FORMAT_INVOKE_FOREACH_SEP_BY_COLON_1(f, _1) f(_1)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_COLON_2(f, _1, _2) f(_1), f(_2)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_COLON_3(f, _1, _2, _3) f(_1), f(_2), f(_3)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_COLON_4(f, _1, _2, _3, _4) f(_1), f(_2), f(_3), f(_4)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_COLON_5(f, _1, _2, _3, _4, _5) f(_1), f(_2), f(_3), f(_4), f(_5)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_COLON_6(f, _1, _2, _3, _4, _5, _6) f(_1), f(_2), f(_3), f(_4), f(_5), f(_6)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_COLON_7(f, _1, _2, _3, _4, _5, _6, _7) f(_1), f(_2), f(_3), f(_4), f(_5), f(_6), f(_7)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_COLON_8(f, _1, _2, _3, _4, _5, _6, _7, _8) f(_1), f(_2), f(_3), f(_4), f(_5), f(_6), f(_7), f(_8)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_COLON_9(f, _1, _2, _3, _4, _5, _6, _7, _8, _9) f(_1), f(_2), f(_3), f(_4), f(_5), f(_6), f(_7), f(_8), f(_9)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_COLON_10(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10) f(_1), f(_2), f(_3), f(_4), f(_5), f(_6), f(_7), f(_8), f(_9), f(_10)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_COLON_11(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11) f(_1), f(_2), f(_3), f(_4), f(_5), f(_6), f(_7), f(_8), f(_9), f(_10), f(_11)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_COLON_12(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12) f(_1), f(_2), f(_3), f(_4), f(_5), f(_6), f(_7), f(_8), f(_9), f(_10), f(_11), f(_12)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_COLON_13(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13) f(_1), f(_2), f(_3), f(_4), f(_5), f(_6), f(_7), f(_8), f(_9), f(_10), f(_11), f(_12), f(_13)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_COLON_14(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14) f(_1), f(_2), f(_3), f(_4), f(_5), f(_6), f(_7), f(_8), f(_9), f(_10), f(_11), f(_12), f(_13), f(_14)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_COLON_15(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15) f(_1), f(_2), f(_3), f(_4), f(_5), f(_6), f(_7), f(_8), f(_9), f(_10), f(_11), f(_12), f(_13), f(_14), f(_15)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_COLON_16(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16) f(_1), f(_2), f(_3), f(_4), f(_5), f(_6), f(_7), f(_8), f(_9), f(_10), f(_11), f(_12), f(_13), f(_14), f(_15), f(_16)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_COLON_17(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17) f(_1), f(_2), f(_3), f(_4), f(_5), f(_6), f(_7), f(_8), f(_9), f(_10), f(_11), f(_12), f(_13), f(_14), f(_15), f(_16), f(_17)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_COLON_18(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18) f(_1), f(_2), f(_3), f(_4), f(_5), f(_6), f(_7), f(_8), f(_9), f(_10), f(_11), f(_12), f(_13), f(_14), f(_15), f(_16), f(_17), f(_18)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_COLON_19(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19) f(_1), f(_2), f(_3), f(_4), f(_5), f(_6), f(_7), f(_8), f(_9), f(_10), f(_11), f(_12), f(_13), f(_14), f(_15), f(_16), f(_17), f(_18), f(_19)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_COLON_20(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20) f(_1), f(_2), f(_3), f(_4), f(_5), f(_6), f(_7), f(_8), f(_9), f(_10), f(_11), f(_12), f(_13), f(_14), f(_15), f(_16), f(_17), f(_18), f(_19), f(_20)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_COLON_21(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21) f(_1), f(_2), f(_3), f(_4), f(_5), f(_6), f(_7), f(_8), f(_9), f(_10), f(_11), f(_12), f(_13), f(_14), f(_15), f(_16), f(_17), f(_18), f(_19), f(_20), f(_21)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_COLON_22(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22) f(_1), f(_2), f(_3), f(_4), f(_5), f(_6), f(_7), f(_8), f(_9), f(_10), f(_11), f(_12), f(_13), f(_14), f(_15), f(_16), f(_17), f(_18), f(_19), f(_20), f(_21), f(_22)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_COLON_23(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23) f(_1), f(_2), f(_3), f(_4), f(_5), f(_6), f(_7), f(_8), f(_9), f(_10), f(_11), f(_12), f(_13), f(_14), f(_15), f(_16), f(_17), f(_18), f(_19), f(_20), f(_21), f(_22), f(_23)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_COLON_24(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24) f(_1), f(_2), f(_3), f(_4), f(_5), f(_6), f(_7), f(_8), f(_9), f(_10), f(_11), f(_12), f(_13), f(_14), f(_15), f(_16), f(_17), f(_18), f(_19), f(_20), f(_21), f(_22), f(_23), f(_24)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_COLON_25(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24, _25) f(_1), f(_2), f(_3), f(_4), f(_5), f(_6), f(_7), f(_8), f(_9), f(_10), f(_11), f(_12), f(_13), f(_14), f(_15), f(_16), f(_17), f(_18), f(_19), f(_20), f(_21), f(_22), f(_23), f(_24), f(_25)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_COLON_26(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24, _25, _26) f(_1), f(_2), f(_3), f(_4), f(_5), f(_6), f(_7), f(_8), f(_9), f(_10), f(_11), f(_12), f(_13), f(_14), f(_15), f(_16), f(_17), f(_18), f(_19), f(_20), f(_21), f(_22), f(_23), f(_24), f(_25), f(_26)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_COLON_27(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24, _25, _26, _27) f(_1), f(_2), f(_3), f(_4), f(_5), f(_6), f(_7), f(_8), f(_9), f(_10), f(_11), f(_12), f(_13), f(_14), f(_15), f(_16), f(_17), f(_18), f(_19), f(_20), f(_21), f(_22), f(_23), f(_24), f(_25), f(_26), f(_27)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_COLON_28(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24, _25, _26, _27, _28) f(_1), f(_2), f(_3), f(_4), f(_5), f(_6), f(_7), f(_8), f(_9), f(_10), f(_11), f(_12), f(_13), f(_14), f(_15), f(_16), f(_17), f(_18), f(_19), f(_20), f(_21), f(_22), f(_23), f(_24), f(_25), f(_26), f(_27), f(_28)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_COLON_29(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24, _25, _26, _27, _28, _29) f(_1), f(_2), f(_3), f(_4), f(_5), f(_6), f(_7), f(_8), f(_9), f(_10), f(_11), f(_12), f(_13), f(_14), f(_15), f(_16), f(_17), f(_18), f(_19), f(_20), f(_21), f(_22), f(_23), f(_24), f(_25), f(_26), f(_27), f(_28), f(_29)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_COLON_30(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24, _25, _26, _27, _28, _29, _30) f(_1), f(_2), f(_3), f(_4), f(_5), f(_6), f(_7), f(_8), f(_9), f(_10), f(_11), f(_12), f(_13), f(_14), f(_15), f(_16), f(_17), f(_18), f(_19), f(_20), f(_21), f(_22), f(_23), f(_24), f(_25), f(_26), f(_27), f(_28), f(_29), f(_30)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_COLON_31(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24, _25, _26, _27, _28, _29, _30, _31) f(_1), f(_2), f(_3), f(_4), f(_5), f(_6), f(_7), f(_8), f(_9), f(_10), f(_11), f(_12), f(_13), f(_14), f(_15), f(_16), f(_17), f(_18), f(_19), f(_20), f(_21), f(_22), f(_23), f(_24), f(_25), f(_26), f(_27), f(_28), f(_29), f(_30), f(_31)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_COLON_32(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24, _25, _26, _27, _28, _29, _30, _31, _32) f(_1), f(_2), f(_3), f(_4), f(_5), f(_6), f(_7), f(_8), f(_9), f(_10), f(_11), f(_12), f(_13), f(_14), f(_15), f(_16), f(_17), f(_18), f(_19), f(_20), f(_21), f(_22), f(_23), f(_24), f(_25), f(_26), f(_27), f(_28), f(_29), f(_30), f(_31), f(_32)

    #define __FORMAT_INVOKE_FOREACH_SEP_BY_STR_COLON_1(f, _1) f(_1)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_STR_COLON_2(f, _1, _2) f(_1) ", " f(_2)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_STR_COLON_3(f, _1, _2, _3) f(_1) ", " f(_2) ", " f(_3)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_STR_COLON_4(f, _1, _2, _3, _4) f(_1) ", " f(_2) ", " f(_3) ", " f(_4)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_STR_COLON_5(f, _1, _2, _3, _4, _5) f(_1) ", " f(_2) ", " f(_3) ", " f(_4) ", " f(_5)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_STR_COLON_6(f, _1, _2, _3, _4, _5, _6) f(_1) ", " f(_2) ", " f(_3) ", " f(_4) ", " f(_5) ", " f(_6)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_STR_COLON_7(f, _1, _2, _3, _4, _5, _6, _7) f(_1) ", " f(_2) ", " f(_3) ", " f(_4) ", " f(_5) ", " f(_6) ", " f(_7)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_STR_COLON_8(f, _1, _2, _3, _4, _5, _6, _7, _8) f(_1) ", " f(_2) ", " f(_3) ", " f(_4) ", " f(_5) ", " f(_6) ", " f(_7) ", " f(_8)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_STR_COLON_9(f, _1, _2, _3, _4, _5, _6, _7, _8, _9) f(_1) ", " f(_2) ", " f(_3) ", " f(_4) ", " f(_5) ", " f(_6) ", " f(_7) ", " f(_8) ", " f(_9)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_STR_COLON_10(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10) f(_1) ", " f(_2) ", " f(_3) ", " f(_4) ", " f(_5) ", " f(_6) ", " f(_7) ", " f(_8) ", " f(_9) ", " f(_10)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_STR_COLON_11(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11) f(_1) ", " f(_2) ", " f(_3) ", " f(_4) ", " f(_5) ", " f(_6) ", " f(_7) ", " f(_8) ", " f(_9) ", " f(_10) ", " f(_11)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_STR_COLON_12(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12) f(_1) ", " f(_2) ", " f(_3) ", " f(_4) ", " f(_5) ", " f(_6) ", " f(_7) ", " f(_8) ", " f(_9) ", " f(_10) ", " f(_11) ", " f(_12)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_STR_COLON_13(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13) f(_1) ", " f(_2) ", " f(_3) ", " f(_4) ", " f(_5) ", " f(_6) ", " f(_7) ", " f(_8) ", " f(_9) ", " f(_10) ", " f(_11) ", " f(_12) ", " f(_13)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_STR_COLON_14(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14) f(_1) ", " f(_2) ", " f(_3) ", " f(_4) ", " f(_5) ", " f(_6) ", " f(_7) ", " f(_8) ", " f(_9) ", " f(_10) ", " f(_11) ", " f(_12) ", " f(_13) ", " f(_14)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_STR_COLON_15(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15) f(_1) ", " f(_2) ", " f(_3) ", " f(_4) ", " f(_5) ", " f(_6) ", " f(_7) ", " f(_8) ", " f(_9) ", " f(_10) ", " f(_11) ", " f(_12) ", " f(_13) ", " f(_14) ", " f(_15)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_STR_COLON_16(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16) f(_1) ", " f(_2) ", " f(_3) ", " f(_4) ", " f(_5) ", " f(_6) ", " f(_7) ", " f(_8) ", " f(_9) ", " f(_10) ", " f(_11) ", " f(_12) ", " f(_13) ", " f(_14) ", " f(_15) ", " f(_16)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_STR_COLON_17(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17) f(_1) ", " f(_2) ", " f(_3) ", " f(_4) ", " f(_5) ", " f(_6) ", " f(_7) ", " f(_8) ", " f(_9) ", " f(_10) ", " f(_11) ", " f(_12) ", " f(_13) ", " f(_14) ", " f(_15) ", " f(_16) ", " f(_17)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_STR_COLON_18(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18) f(_1) ", " f(_2) ", " f(_3) ", " f(_4) ", " f(_5) ", " f(_6) ", " f(_7) ", " f(_8) ", " f(_9) ", " f(_10) ", " f(_11) ", " f(_12) ", " f(_13) ", " f(_14) ", " f(_15) ", " f(_16) ", " f(_17) ", " f(_18)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_STR_COLON_19(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19) f(_1) ", " f(_2) ", " f(_3) ", " f(_4) ", " f(_5) ", " f(_6) ", " f(_7) ", " f(_8) ", " f(_9) ", " f(_10) ", " f(_11) ", " f(_12) ", " f(_13) ", " f(_14) ", " f(_15) ", " f(_16) ", " f(_17) ", " f(_18) ", " f(_19)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_STR_COLON_20(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20) f(_1) ", " f(_2) ", " f(_3) ", " f(_4) ", " f(_5) ", " f(_6) ", " f(_7) ", " f(_8) ", " f(_9) ", " f(_10) ", " f(_11) ", " f(_12) ", " f(_13) ", " f(_14) ", " f(_15) ", " f(_16) ", " f(_17) ", " f(_18) ", " f(_19) ", " f(_20)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_STR_COLON_21(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21) f(_1) ", " f(_2) ", " f(_3) ", " f(_4) ", " f(_5) ", " f(_6) ", " f(_7) ", " f(_8) ", " f(_9) ", " f(_10) ", " f(_11) ", " f(_12) ", " f(_13) ", " f(_14) ", " f(_15) ", " f(_16) ", " f(_17) ", " f(_18) ", " f(_19) ", " f(_20) ", " f(_21)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_STR_COLON_22(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22) f(_1) ", " f(_2) ", " f(_3) ", " f(_4) ", " f(_5) ", " f(_6) ", " f(_7) ", " f(_8) ", " f(_9) ", " f(_10) ", " f(_11) ", " f(_12) ", " f(_13) ", " f(_14) ", " f(_15) ", " f(_16) ", " f(_17) ", " f(_18) ", " f(_19) ", " f(_20) ", " f(_21) ", " f(_22)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_STR_COLON_23(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23) f(_1) ", " f(_2) ", " f(_3) ", " f(_4) ", " f(_5) ", " f(_6) ", " f(_7) ", " f(_8) ", " f(_9) ", " f(_10) ", " f(_11) ", " f(_12) ", " f(_13) ", " f(_14) ", " f(_15) ", " f(_16) ", " f(_17) ", " f(_18) ", " f(_19) ", " f(_20) ", " f(_21) ", " f(_22) ", " f(_23)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_STR_COLON_24(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24) f(_1) ", " f(_2) ", " f(_3) ", " f(_4) ", " f(_5) ", " f(_6) ", " f(_7) ", " f(_8) ", " f(_9) ", " f(_10) ", " f(_11) ", " f(_12) ", " f(_13) ", " f(_14) ", " f(_15) ", " f(_16) ", " f(_17) ", " f(_18) ", " f(_19) ", " f(_20) ", " f(_21) ", " f(_22) ", " f(_23) ", " f(_24)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_STR_COLON_25(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24, _25) f(_1) ", " f(_2) ", " f(_3) ", " f(_4) ", " f(_5) ", " f(_6) ", " f(_7) ", " f(_8) ", " f(_9) ", " f(_10) ", " f(_11) ", " f(_12) ", " f(_13) ", " f(_14) ", " f(_15) ", " f(_16) ", " f(_17) ", " f(_18) ", " f(_19) ", " f(_20) ", " f(_21) ", " f(_22) ", " f(_23) ", " f(_24) ", " f(_25)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_STR_COLON_26(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24, _25, _26) f(_1) ", " f(_2) ", " f(_3) ", " f(_4) ", " f(_5) ", " f(_6) ", " f(_7) ", " f(_8) ", " f(_9) ", " f(_10) ", " f(_11) ", " f(_12) ", " f(_13) ", " f(_14) ", " f(_15) ", " f(_16) ", " f(_17) ", " f(_18) ", " f(_19) ", " f(_20) ", " f(_21) ", " f(_22) ", " f(_23) ", " f(_24) ", " f(_25) ", " f(_26)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_STR_COLON_27(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24, _25, _26, _27) f(_1) ", " f(_2) ", " f(_3) ", " f(_4) ", " f(_5) ", " f(_6) ", " f(_7) ", " f(_8) ", " f(_9) ", " f(_10) ", " f(_11) ", " f(_12) ", " f(_13) ", " f(_14) ", " f(_15) ", " f(_16) ", " f(_17) ", " f(_18) ", " f(_19) ", " f(_20) ", " f(_21) ", " f(_22) ", " f(_23) ", " f(_24) ", " f(_25) ", " f(_26) ", " f(_27)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_STR_COLON_28(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24, _25, _26, _27, _28) f(_1) ", " f(_2) ", " f(_3) ", " f(_4) ", " f(_5) ", " f(_6) ", " f(_7) ", " f(_8) ", " f(_9) ", " f(_10) ", " f(_11) ", " f(_12) ", " f(_13) ", " f(_14) ", " f(_15) ", " f(_16) ", " f(_17) ", " f(_18) ", " f(_19) ", " f(_20) ", " f(_21) ", " f(_22) ", " f(_23) ", " f(_24) ", " f(_25) ", " f(_26) ", " f(_27) ", " f(_28)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_STR_COLON_29(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24, _25, _26, _27, _28, _29) f(_1) ", " f(_2) ", " f(_3) ", " f(_4) ", " f(_5) ", " f(_6) ", " f(_7) ", " f(_8) ", " f(_9) ", " f(_10) ", " f(_11) ", " f(_12) ", " f(_13) ", " f(_14) ", " f(_15) ", " f(_16) ", " f(_17) ", " f(_18) ", " f(_19) ", " f(_20) ", " f(_21) ", " f(_22) ", " f(_23) ", " f(_24) ", " f(_25) ", " f(_26) ", " f(_27) ", " f(_28) ", " f(_29)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_STR_COLON_30(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24, _25, _26, _27, _28, _29, _30) f(_1) ", " f(_2) ", " f(_3) ", " f(_4) ", " f(_5) ", " f(_6) ", " f(_7) ", " f(_8) ", " f(_9) ", " f(_10) ", " f(_11) ", " f(_12) ", " f(_13) ", " f(_14) ", " f(_15) ", " f(_16) ", " f(_17) ", " f(_18) ", " f(_19) ", " f(_20) ", " f(_21) ", " f(_22) ", " f(_23) ", " f(_24) ", " f(_25) ", " f(_26) ", " f(_27) ", " f(_28) ", " f(_29) ", " f(_30)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_STR_COLON_31(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24, _25, _26, _27, _28, _29, _30, _31) f(_1) ", " f(_2) ", " f(_3) ", " f(_4) ", " f(_5) ", " f(_6) ", " f(_7) ", " f(_8) ", " f(_9) ", " f(_10) ", " f(_11) ", " f(_12) ", " f(_13) ", " f(_14) ", " f(_15) ", " f(_16) ", " f(_17) ", " f(_18) ", " f(_19) ", " f(_20) ", " f(_21) ", " f(_22) ", " f(_23) ", " f(_24) ", " f(_25) ", " f(_26) ", " f(_27) ", " f(_28) ", " f(_29) ", " f(_30) ", " f(_31)
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_STR_COLON_32(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24, _25, _26, _27, _28, _29, _30, _31, _32) f(_1) ", " f(_2) ", " f(_3) ", " f(_4) ", " f(_5) ", " f(_6) ", " f(_7) ", " f(_8) ", " f(_9) ", " f(_10) ", " f(_11) ", " f(_12) ", " f(_13) ", " f(_14) ", " f(_15) ", " f(_16) ", " f(_17) ", " f(_18) ", " f(_19) ", " f(_20) ", " f(_21) ", " f(_22) ", " f(_23) ", " f(_24) ", " f(_25) ", " f(_26) ", " f(_27) ", " f(_28) ", " f(_29) ", " f(_30) ", " f(_31) ", " f(_32)

    #define __FORMAT_INVOKE_FOREACH_1(f, _1) f(_1)
    #define __FORMAT_INVOKE_FOREACH_2(f, _1, _2) f(_1) f(_2)
    #define __FORMAT_INVOKE_FOREACH_3(f, _1, _2, _3) f(_1) f(_2) f(_3)
    #define __FORMAT_INVOKE_FOREACH_4(f, _1, _2, _3, _4) f(_1) f(_2) f(_3) f(_4)
    #define __FORMAT_INVOKE_FOREACH_5(f, _1, _2, _3, _4, _5) f(_1) f(_2) f(_3) f(_4) f(_5)
    #define __FORMAT_INVOKE_FOREACH_6(f, _1, _2, _3, _4, _5, _6) f(_1) f(_2) f(_3) f(_4) f(_5) f(_6)
    #define __FORMAT_INVOKE_FOREACH_7(f, _1, _2, _3, _4, _5, _6, _7) f(_1) f(_2) f(_3) f(_4) f(_5) f(_6) f(_7)
    #define __FORMAT_INVOKE_FOREACH_8(f, _1, _2, _3, _4, _5, _6, _7, _8) f(_1) f(_2) f(_3) f(_4) f(_5) f(_6) f(_7) f(_8)
    #define __FORMAT_INVOKE_FOREACH_9(f, _1, _2, _3, _4, _5, _6, _7, _8, _9) f(_1) f(_2) f(_3) f(_4) f(_5) f(_6) f(_7) f(_8) f(_9)
    #define __FORMAT_INVOKE_FOREACH_10(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10) f(_1) f(_2) f(_3) f(_4) f(_5) f(_6) f(_7) f(_8) f(_9) f(_10)
    #define __FORMAT_INVOKE_FOREACH_11(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11) f(_1) f(_2) f(_3) f(_4) f(_5) f(_6) f(_7) f(_8) f(_9) f(_10) f(_11)
    #define __FORMAT_INVOKE_FOREACH_12(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12) f(_1) f(_2) f(_3) f(_4) f(_5) f(_6) f(_7) f(_8) f(_9) f(_10) f(_11) f(_12)
    #define __FORMAT_INVOKE_FOREACH_13(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13) f(_1) f(_2) f(_3) f(_4) f(_5) f(_6) f(_7) f(_8) f(_9) f(_10) f(_11) f(_12) f(_13)
    #define __FORMAT_INVOKE_FOREACH_14(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14) f(_1) f(_2) f(_3) f(_4) f(_5) f(_6) f(_7) f(_8) f(_9) f(_10) f(_11) f(_12) f(_13) f(_14)
    #define __FORMAT_INVOKE_FOREACH_15(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15) f(_1) f(_2) f(_3) f(_4) f(_5) f(_6) f(_7) f(_8) f(_9) f(_10) f(_11) f(_12) f(_13) f(_14) f(_15)
    #define __FORMAT_INVOKE_FOREACH_16(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16) f(_1) f(_2) f(_3) f(_4) f(_5) f(_6) f(_7) f(_8) f(_9) f(_10) f(_11) f(_12) f(_13) f(_14) f(_15) f(_16)
    #define __FORMAT_INVOKE_FOREACH_17(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17) f(_1) f(_2) f(_3) f(_4) f(_5) f(_6) f(_7) f(_8) f(_9) f(_10) f(_11) f(_12) f(_13) f(_14) f(_15) f(_16) f(_17)
    #define __FORMAT_INVOKE_FOREACH_18(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18) f(_1) f(_2) f(_3) f(_4) f(_5) f(_6) f(_7) f(_8) f(_9) f(_10) f(_11) f(_12) f(_13) f(_14) f(_15) f(_16) f(_17) f(_18)
    #define __FORMAT_INVOKE_FOREACH_19(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19) f(_1) f(_2) f(_3) f(_4) f(_5) f(_6) f(_7) f(_8) f(_9) f(_10) f(_11) f(_12) f(_13) f(_14) f(_15) f(_16) f(_17) f(_18) f(_19)
    #define __FORMAT_INVOKE_FOREACH_20(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20) f(_1) f(_2) f(_3) f(_4) f(_5) f(_6) f(_7) f(_8) f(_9) f(_10) f(_11) f(_12) f(_13) f(_14) f(_15) f(_16) f(_17) f(_18) f(_19) f(_20)
    #define __FORMAT_INVOKE_FOREACH_21(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21) f(_1) f(_2) f(_3) f(_4) f(_5) f(_6) f(_7) f(_8) f(_9) f(_10) f(_11) f(_12) f(_13) f(_14) f(_15) f(_16) f(_17) f(_18) f(_19) f(_20) f(_21)
    #define __FORMAT_INVOKE_FOREACH_22(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22) f(_1) f(_2) f(_3) f(_4) f(_5) f(_6) f(_7) f(_8) f(_9) f(_10) f(_11) f(_12) f(_13) f(_14) f(_15) f(_16) f(_17) f(_18) f(_19) f(_20) f(_21) f(_22)
    #define __FORMAT_INVOKE_FOREACH_23(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23) f(_1) f(_2) f(_3) f(_4) f(_5) f(_6) f(_7) f(_8) f(_9) f(_10) f(_11) f(_12) f(_13) f(_14) f(_15) f(_16) f(_17) f(_18) f(_19) f(_20) f(_21) f(_22) f(_23)
    #define __FORMAT_INVOKE_FOREACH_24(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24) f(_1) f(_2) f(_3) f(_4) f(_5) f(_6) f(_7) f(_8) f(_9) f(_10) f(_11) f(_12) f(_13) f(_14) f(_15) f(_16) f(_17) f(_18) f(_19) f(_20) f(_21) f(_22) f(_23) f(_24)
    #define __FORMAT_INVOKE_FOREACH_25(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24, _25) f(_1) f(_2) f(_3) f(_4) f(_5) f(_6) f(_7) f(_8) f(_9) f(_10) f(_11) f(_12) f(_13) f(_14) f(_15) f(_16) f(_17) f(_18) f(_19) f(_20) f(_21) f(_22) f(_23) f(_24) f(_25)
    #define __FORMAT_INVOKE_FOREACH_26(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24, _25, _26) f(_1) f(_2) f(_3) f(_4) f(_5) f(_6) f(_7) f(_8) f(_9) f(_10) f(_11) f(_12) f(_13) f(_14) f(_15) f(_16) f(_17) f(_18) f(_19) f(_20) f(_21) f(_22) f(_23) f(_24) f(_25) f(_26)
    #define __FORMAT_INVOKE_FOREACH_27(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24, _25, _26, _27) f(_1) f(_2) f(_3) f(_4) f(_5) f(_6) f(_7) f(_8) f(_9) f(_10) f(_11) f(_12) f(_13) f(_14) f(_15) f(_16) f(_17) f(_18) f(_19) f(_20) f(_21) f(_22) f(_23) f(_24) f(_25) f(_26) f(_27)
    #define __FORMAT_INVOKE_FOREACH_28(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24, _25, _26, _27, _28) f(_1) f(_2) f(_3) f(_4) f(_5) f(_6) f(_7) f(_8) f(_9) f(_10) f(_11) f(_12) f(_13) f(_14) f(_15) f(_16) f(_17) f(_18) f(_19) f(_20) f(_21) f(_22) f(_23) f(_24) f(_25) f(_26) f(_27) f(_28)
    #define __FORMAT_INVOKE_FOREACH_29(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24, _25, _26, _27, _28, _29) f(_1) f(_2) f(_3) f(_4) f(_5) f(_6) f(_7) f(_8) f(_9) f(_10) f(_11) f(_12) f(_13) f(_14) f(_15) f(_16) f(_17) f(_18) f(_19) f(_20) f(_21) f(_22) f(_23) f(_24) f(_25) f(_26) f(_27) f(_28) f(_29)
    #define __FORMAT_INVOKE_FOREACH_30(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24, _25, _26, _27, _28, _29, _30) f(_1) f(_2) f(_3) f(_4) f(_5) f(_6) f(_7) f(_8) f(_9) f(_10) f(_11) f(_12) f(_13) f(_14) f(_15) f(_16) f(_17) f(_18) f(_19) f(_20) f(_21) f(_22) f(_23) f(_24) f(_25) f(_26) f(_27) f(_28) f(_29) f(_30)
    #define __FORMAT_INVOKE_FOREACH_31(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24, _25, _26, _27, _28, _29, _30, _31) f(_1) f(_2) f(_3) f(_4) f(_5) f(_6) f(_7) f(_8) f(_9) f(_10) f(_11) f(_12) f(_13) f(_14) f(_15) f(_16) f(_17) f(_18) f(_19) f(_20) f(_21) f(_22) f(_23) f(_24) f(_25) f(_26) f(_27) f(_28) f(_29) f(_30) f(_31)
    #define __FORMAT_INVOKE_FOREACH_32(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24, _25, _26, _27, _28, _29, _30, _31, _32) f(_1) f(_2) f(_3) f(_4) f(_5) f(_6) f(_7) f(_8) f(_9) f(_10) f(_11) f(_12) f(_13) f(_14) f(_15) f(_16) f(_17) f(_18) f(_19) f(_20) f(_21) f(_22) f(_23) f(_24) f(_25) f(_26) f(_27) f(_28) f(_29) f(_30) f(_31) f(_32)
    #define __FORMAT_INVOKE_FOREACH_33(f, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24, _25, _26, _27, _28, _29, _30, _31, _32, _33) f(_1) f(_2) f(_3) f(_4) f(_5) f(_6) f(_7) f(_8) f(_9) f(_10) f(_11) f(_12) f(_13) f(_14) f(_15) f(_16) f(_17) f(_18) f(_19) f(_20) f(_21) f(_22) f(_23) f(_24) f(_25) f(_26) f(_27) f(_28) f(_29) f(_30) f(_31) f(_32) f(_33)

    #define __FORMAT_ID(x) x
    #define __FORMAT_EXPAND_2(...) __VA_ARGS__
    #define __FORMAT_EXPAND(...) __FORMAT_EXPAND_2(__VA_ARGS__)
    #define __FORMAT_CONCAT_2(x, y) x##y
    #define __FORMAT_CONCAT(x, y) __FORMAT_CONCAT_2(x, y)

    #define __FORMAT_INVOKE_FOREACH_SEP_BY_COLON(f, ...) __FORMAT_EXPAND(__FORMAT_CONCAT(__FORMAT_INVOKE_FOREACH_SEP_BY_COLON_, __FORMAT_NARGS(__VA_ARGS__))(f, __VA_ARGS__))
    #define __FORMAT_INVOKE_FOREACH_SEP_BY_STR_COLON(f, ...) __FORMAT_EXPAND(__FORMAT_CONCAT(__FORMAT_INVOKE_FOREACH_SEP_BY_STR_COLON_, __FORMAT_NARGS(__VA_ARGS__))(f, __VA_ARGS__))
    #define __FORMAT_INVOKE_FOREACH(f, ...) __FORMAT_EXPAND(__FORMAT_CONCAT(__FORMAT_INVOKE_FOREACH_, __FORMAT_NARGS(__VA_ARGS__))(f, __VA_ARGS__))
    
    #define __FORMAT_ADD_BACKET(field) #field ": {}"
    #define __FORMAT_ADD_OBJECT(field) obj.field
    #define __FORMAT_ENUM_VALUE(value) case value: return std::format_to(ctx.out(), #value);\

    #define __FORMAT_FMT_STRING(...) "{{ " __FORMAT_INVOKE_FOREACH_SEP_BY_STR_COLON(__FORMAT_ADD_BACKET, __VA_ARGS__) " }}"
    #define __FORMAT_FIELF_LIST(...) __FORMAT_INVOKE_FOREACH_SEP_BY_COLON(__FORMAT_ADD_OBJECT, __VA_ARGS__)
    #define __FORMAT_ENUM_CASE(...) __FORMAT_INVOKE_FOREACH(__FORMAT_ENUM_VALUE, __VA_ARGS__)

    template <typename... Args>
    using FormatString = format_string<Args...>;

    #define FORMAT_STRUCT(Struct, ...)\
    template <>\
    struct std::formatter<Struct> {\
        constexpr auto parse(std::format_parse_context& ctx) {\
            auto it = ctx.begin();\
            auto end = ctx.end();\
            if (it != end && *it != '}') {\
                throw std::format_error("Invalid format");\
            }\
            return it;\
        }\
        template<typename FormatContext>\
        constexpr auto format(const Struct& obj, FormatContext& ctx) const {\
            auto iter = std::vformat_to(\
                ctx.out(),\
                std::string{__FORMAT_FMT_STRING(__VA_ARGS__)},\
                std::make_format_args(__FORMAT_FIELF_LIST(__VA_ARGS__))\
            );\
            return iter;\
        }\
    };

    #define FORMAT_ENUM(Enum, ...)\
    template <>\
    struct std::formatter<Enum> {\
        constexpr auto parse(std::format_parse_context& ctx) {\
            auto it = ctx.begin();\
            auto end = ctx.end();\
            if (it != end && *it != '}') {\
                throw std::format_error("Invalid format");\
            }\
            return it;\
        }\
        template<typename FormatContext>\
        constexpr auto format(const Enum& d, FormatContext& ctx) const {\
            switch (d) {\
                __FORMAT_ENUM_CASE(__VA_ARGS__)\
                default: return std::format_to(ctx.out(), "");\
            }\
        }\
    };

}
